@model ToursAndTravelsManagement.Services.EmailService.ContactFormModel
@{
    ViewData["Title"] = "Trang chủ";
    Layout = "~/Views/Shared/_AnotherLayout.cshtml";
}

<!-- HERO-->
<section id="hero" class="hero min-vh-100 d-flex align-items-center position-relative overflow-hidden"
         style="background: #2c3e88;">
    <div class="container position-relative z-2">
        <div class="row align-items-center">
            <!-- Nội dung bên trái -->
            <div class="col-lg-6 col-12 text-center text-lg-start" data-aos="fade-right">
                <h1 class="display-2 fw-bold text-white mb-4 lh-base">
                    Hơn <span class="text-warning">1000+ tour</span>,<br>
                    khám phá ngay
                </h1>
                <p class="lead text-white opacity-90 mb-5" style="font-size: 1.2rem; line-height: 1.7;">
                    Tìm kiếm & đặt ngay hàng ngàn tour du lịch khắp Việt Nam và<br>
                    thế giới với ưu đãi tốt nhất cùng Viva Vivu nhé.
                </p>
                <a href="/Tours/PublicTours" class="btn btn-warning btn-lg px-5 py-3 rounded-pill fw-bold shadow-lg hover-lift mt-3">
                    Xem chi tiết <i class="ri-arrow-right-line ms-1"></i>
                </a>
            </div>

            <!-- 2 hình tròn bên phải -->
            <div class="col-lg-6 col-12 text-center text-lg-end" data-aos="fade-left">
                <div class="hero-circles position-relative d-inline-block">
                    <div class="circle-back">
                        <img src="https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=1200&auto=format&fit=crop&q=85"
                             alt="Tour Nhật Bản" class="rounded-circle">
                    </div>
                    <div class="circle-front">
                        <img src="https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=1200&auto=format&fit=crop&q=85"
                             alt="Tour Nhật Bản mùa thu" class="rounded-circle">
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- THANH TÌM KIẾM TOUR-->
<section class="tour-search-section position-relative" style="margin-top: -11px; z-index: 10;">
    <div class="container">
        <div class="search-bar-modern bg-white rounded-pill shadow-xl border border-4 border-warning px-4 py-3">
            <form class="row g-2 g-md-3 align-items-center justify-content-center" id="search-form">
                <!-- Điểm đến -->
                <div class="col-12 col-md-4 col-lg-3">
                    <div class="position-relative">
                        <i class="ri-map-pin-line text-warning position-absolute top-50 start-3 translate-middle-y fs-5"></i>
                        <select class="form-select border-0 shadow-none ps-5 py-3" id="destination-select" style="font-size: 0.95rem;" required>
                            <option value="" disabled selected>Bạn muốn đi đâu?</option>
                            <optgroup label="Trong nước">
                                <option value="domestic/Mộc Châu">Mộc Châu</option>
                                <option value="domestic/Đà Nẵng">Đà Nẵng</option>
                                <option value="domestic/Phú Quốc">Phú Quốc</option>
                            </optgroup>
                            <optgroup label="Quốc tế">
                                <option value="international/Trung Quốc">Trung Quốc</option>
                                <option value="international/Sri Lanka">Sri Lanka</option>
                                <option value="international/Nhật Bản">Nhật Bản</option>
                            </optgroup>
                        </select>
                    </div>
                </div>

                <!-- Ngày khởi hành -->
                <div class="col-12 col-md-3 col-lg-3">
                    <div class="position-relative">
                        <i class="ri-calendar-line text-warning position-absolute top-50 start-3 translate-middle-y fs-5"></i>
                        <select class="form-select border-0 shadow-none ps-5 py-3" id="month-select" style="font-size: 0.95rem;">
                            <option value="" disabled selected>Ngày khởi hành</option>
                            <option value="12">Tháng 12/2025</option>
                            <option value="1">Tháng 1/2026</option>
                            <option value="2">Tháng 2/2026</option>
                            <option value="3">Tháng 3/2026</option>
                            <option value="4">Tháng 4/2026</option>
                            <option value="5">Tháng 5/2026</option>
                            <option value="6">Tháng 6/2026</option>
                            <option value="7">Tháng 7/2026</option>
                            <option value="8">Tháng 8/2026</option>
                            <option value="9">Tháng 9/2026</option>
                            <option value="10">Tháng 10/2026</option>
                            <option value="11">Tháng 11/2026</option>
                        </select>
                    </div>
                </div>

                <!-- Mức giá -->
                <div class="col-12 col-md-3 col-lg-3">
                    <div class="position-relative">
                        <i class="ri-money-dollar-circle-line text-warning position-absolute top-50 start-3 translate-middle-y fs-5"></i>
                        <select class="form-select border-0 shadow-none ps-5 py-3" id="price-select" style="font-size: 0.95rem;">
                            <option value="" selected>Chọn mức giá</option>
                            <option value="under10">Dưới 10 triệu</option>
                            <option value="10to20">10 - 20 triệu</option>
                            <option value="20to30">20 - 30 triệu</option>
                            <option value="over30">Trên 30 triệu</option>
                        </select>
                    </div>
                </div>

                <!-- Nút Tìm kiếm -->
                <div class="col-12 col-md-2 col-lg-3">
                    <button type="submit" class="btn btn-warning btn-lg w-100 rounded-pill fw-bold py-3 shadow-lg hover-lift">
                        Tìm kiếm
                    </button>
                </div>
            </form>
        </div>
    </div>
</section>

<script>
    document.getElementById('search-form').addEventListener('submit', function(e) {
        e.preventDefault(); // Ngăn submit form mặc định

        const destinationSelect = document.getElementById('destination-select').value;
        
        if (!destinationSelect) {
            alert('Vui lòng chọn điểm đến!');
            return;
        }

        const [page, location] = destinationSelect.split('/');

        // Tạo URL đích (thay đổi theo cấu trúc dự án của bạn)
        let url = '/'; // Trang chủ hoặc trang mặc định nếu cần
        
        if (page === 'domestic') {
            // Giả sử trang du lịch trong nước có route như /Domestic hoặc /DuLichTrongNuoc
            // Ví dụ: chuyển hướng với query string để lọc
            url = `/Tours/Domestic`;
        } else if (page === 'international') {
            // Trang du lịch quốc tế
            url = `/Tours/International`;
        }

        // Thêm các tham số khác nếu cần (tháng, giá)
        const month = document.getElementById('month-select').value;
        if (month) {
            url += (url.includes('?') ? '&' : '?') + `month=${month}`;
        }

        const price = document.getElementById('price-select').value;
        if (price) {
            url += (url.includes('?') ? '&' : '?') + `price=${price}`;
        }

        // Chuyển hướng
        window.location.href = url;
    });
</script>

<!-- ĐỊA ĐIỂM NỔI BẬT -->
<section id="portfolio" class="section-padding bg-light pt-120">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5" data-aos="fade-down">
                <h1 class="display-4 fw-semibold">Những địa điểm đáng đi nhất trên thế giới</h1>
            </div>
        </div>
        <div class="row g-5 justify-content-center">
            <!-- Địa điểm 1: Machu Picchu -->
            <div class="col-lg-4 col-md-6 col-11" data-aos="fade-up" data-aos-delay="100">
                <div class="destination-card position-relative overflow-hidden rounded-4 shadow-lg">
                    <img src="https://i.pinimg.com/736x/53/00/42/53004261961a83dbd195c3c73926803b.jpg" 
                         class="img-fluid w-100" alt="Machu Picchu, Peru">
                    
                    <div class="caption-overlay position-absolute bottom-0 start-0 end-0 bg-white p-4">
                        <h5 class="fw-semibold mb-0">Machu Picchu, Peru</h5>
                        <a href="/Tours/PublicTours" class="text-dark text-decoration-none small fw-medium">
                            Xem chi tiết <i class="ri-arrow-right-line ms-1"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Địa điểm 2: Đền Angkor -->
            <div class="col-lg-4 col-md-6 col-11" data-aos="fade-up" data-aos-delay="200">
                <div class="destination-card position-relative overflow-hidden rounded-4 shadow-lg">
                    <img src="https://i.pinimg.com/1200x/2a/b5/26/2ab5266cef153a8090b94ba8391fcad3.jpg" 
                         class="img-fluid w-100" alt="Đền Angkor, Campuchia">
                    
                    <div class="caption-overlay position-absolute bottom-0 start-0 end-0 bg-white p-4">
                        <h5 class="fw-semibold mb-0">Đền Angkor, Campuchia</h5>
                        <a href="/Tours/PublicTours" class="text-dark text-decoration-none small fw-medium">
                            Xem chi tiết <i class="ri-arrow-right-line ms-1"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Địa điểm 3: Kim tự tháp Giza -->
            <div class="col-lg-4 col-md-6 col-11" data-aos="fade-up" data-aos-delay="300">
                <div class="destination-card position-relative overflow-hidden rounded-4 shadow-lg">
                    <img src="https://i.pinimg.com/736x/3c/cc/a4/3ccca4f3fa9629fcc93bc99a7fff8cdc.jpg" 
                         class="img-fluid w-100" alt="Kim tự tháp Giza, Ai Cập">
                    
                    <div class="caption-overlay position-absolute bottom-0 start-0 end-0 bg-white p-4">
                        <h5 class="fw-semibold mb-0">Kim tự tháp Giza, Ai Cập</h5>
                        <a href="/Tours/PublicTours" class="text-dark text-decoration-none small fw-medium">
                            Xem chi tiết <i class="ri-arrow-right-line ms-1"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- KHUYẾN MÃI 20% LẦN ĐẦU -->
<section id="promotion" class="section-padding" style="background-color: #333a73">
    <div class="container">
        <div class="row align-items-center g-5">
            <!-- Nội dung bên trái -->
            <div class="col-lg-7 col-12 text-center text-lg-start">
                <h1 class="display-3 fw-bold mb-4" style="color: white;">Nhận ưu đãi ngay<br>khi đặt tour lần đầu tiên</h1>
                <p class="lead mb-4 opacity-90" style="color: white;">
                    Đừng bỏ lỡ ưu đãi độc quyền dành riêng cho khách hàng mới! Nhận ngay giảm giá 20% khi lần đầu tiên đặt tour. Ưu đãi này chỉ áp dụng cho khách hàng mới và có thời hạn, hãy nhanh tay đăng ký và cùng chúng tôi khám phá thế giới!
                </p>
                <a href="#" class="btn btn-warning btn-lg px-5 py-3 fw-bold text-dark" style="color: white;">Đặt ngay</a>
            </div>
            <!-- 20% OFF bên phải -->
            <div class="col-lg-5 col-12 text-center">
                <div class="position-relative">
                    <div class="position-absolute top-50 end-0 translate-middle-y me-lg-5">
                        <h1 class="display-1 fw-bold text-warning" style="font-size: 12rem; text-shadow: 3px 3px 10px rgba(0,0,0,0.5);">
                            20% <span class="d-block fs-1">OFF</span>
                        </h1>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ƯU ĐÃI TỐT NHẤT HÔM NAY -->
<section id="best-offers" class="section-padding bg-light">
    <div class="container">
        <!-- Tiêu đề -->
        <div class="row mb-5">
            <div class="col-12 text-center" data-aos="fade-down">
                <h2 class="display-4 fw-bold text-dark mb-3">Ưu đãi tốt nhất hôm nay</h2>
            </div>
        </div>

        <!-- Danh sách tour ưu đãi -->
        <div class="row g-4 justify-content-center">
            <!-- Tour 1 -->
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="100">
                <div class="offer-card rounded-4 overflow-hidden shadow-sm h-100 bg-white position-relative hover-lift">
                    <div class="position-relative">
                        <img src="https://i.pinimg.com/736x/32/b0/50/32b050f9f375d158b2e3dd20c9b11553.jpg" 
                             class="img-fluid w-100" style="height: 280px; object-fit: cover;" alt="Tour Trung Quốc">
                        <div class="badge bg-danger position-absolute top-0 start-0 m-3 px-3 py-2 rounded-pill fw-bold">
                            −35%
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="h5 fw-bold">Tour văn hóa Trung Quốc: Khám phá các thị trấn cổ</h3>
                        <p class="text-muted small mb-2">
                            <i class="ri-map-pin-line"></i> Trung Quốc | 5 Ngày 4 Đêm
                        </p>
                        <div class="d-flex align-items-end justify-content-between">
                            <div>
                                <span class="text-decoration-line-through text-muted">15.900.000đ</span>
                                <p class="price fs-3 fw-bold text-warning mb-0">10.250.000đ</p>
                            </div>
                            <a class="nav-link" asp-area="" asp-controller="Home" asp-action="Chitiet">Xem ngay</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tour 2 -->
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="200">
                <div class="offer-card rounded-4 overflow-hidden shadow-sm h-100 bg-white position-relative hover-lift">
                    <div class="position-relative">
                        <img src="https://i.pinimg.com/736x/4f/21/56/4f21561611565c9ec124db26985e4898.jpg" 
                             class="img-fluid w-100" style="height: 280px; object-fit: cover;" alt="Tour Sri Lanka">
                        <div class="badge bg-danger position-absolute top-0 start-0 m-3 px-3 py-2 rounded-pill fw-bold">
                            −28%
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="h5 fw-bold">Tuần trăng mật lãng mạn ở Sri Lanka</h3>
                        <p class="text-muted small mb-2">
                            <i class="ri-map-pin-line"></i> Sri Lanka | 8 Ngày 7 Đêm
                        </p>
                        <div class="d-flex align-items-end justify-content-between">
                            <div>
                                <span class="text-decoration-line-through text-muted">31.250.000đ</span>
                                <p class="price fs-3 fw-bold text-warning mb-0">22.500.000đ</p>
                            </div>
                            <a class="nav-link" asp-area="" asp-controller="Home" asp-action="Chitiet">Xem ngay</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tour 3 -->
            <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="300">
                <div class="offer-card rounded-4 overflow-hidden shadow-sm h-100 bg-white position-relative hover-lift">
                    <div class="position-relative">
                        <img src="https://i.pinimg.com/736x/1d/b1/f9/1db1f98b1403770b6e97e6cf0213cd27.jpg" 
                             class="img-fluid w-100" style="height: 280px; object-fit: cover;" alt="Tour Nhật Bản">
                        <div class="badge bg-danger position-absolute top-0 start-0 m-3 px-3 py-2 rounded-pill fw-bold">
                            HOT
                        </div>
                    </div>
                    <div class="p-4">
                        <h3 class="h5 fw-bold">Tour khám phá Vương quốc Mặt trời mọc</h3>
                        <p class="text-muted small mb-2">
                            <i class="ri-map-pin-line"></i> Nhật Bản | 7 Ngày 6 Đêm
                        </p>
                        <div class="d-flex align-items-end justify-content-between">
                            <div>
                                <p class="price fs-3 fw-bold text-warning mb-0">22.500.000đ</p>
                            </div>
                            <a class="nav-link" asp-area="" asp-controller="Home" asp-action="Chitiet">Xem ngay</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Nút Xem thêm -->
        <div class="text-center mt-5">
            <a href="/Tours/PublicTours" class="btn btn-outline-dark btn-lg px-5 py-3 rounded-pill fw-medium">
                Xem thêm tours
            </a>
        </div>
    </div>
</section>

<style>
    .hero { 
        min-height: 100vh; 
        background: #333a73;
        padding: 0;
    }

    .hero-circles { 
        width: 560px; height: 560px; position: relative; 
    }
    .circle-back  { width: 420px; height: 420px; position: absolute; top: 50px; right: 0; border-radius: 50%; overflow: hidden; box-shadow: 0 25px 60px rgba(0,0,0,.4); }
    .circle-front { width: 340px; height: 340px; position: absolute; bottom: 0; right: -50px; border-radius: 50%; overflow: hidden; box-shadow: 0 30px 70px rgba(0,0,0,.45); z-index: 2; }
    .circle-back img, .circle-front img { 
        width: 100%; height: 100%; object-fit: cover; transition: transform .6s ease; 
    }
    .circle-back:hover img, .circle-front:hover img { transform: scale(1.08); }

    .hover-lift { transition: transform .3s ease, box-shadow .3s ease; }
    .hover-lift:hover { transform: translateY(-8px); box-shadow: 0 15px 35px #97651f!important; }

    /* ==================== THANH TÌM KIẾM ==================== */
    .tour-search-section { 
        margin-top: -100px; 
        z-index: 10; 
        pointer-events: none; 
    }
    .tour-search-section > .container { pointer-events: all; }

    .search-bar-modern {
        max-width: 960px;
        margin: 0 auto;
        background: rgba(255,255,255,.97);
        backdrop-filter: blur(20px);
        border: 4px solid #fba834;
        border-radius: 60px;
        box-shadow: 0 20px 50px rgba(0,0,0,.2);
        padding: 12px 24px;
        display: flex;
        align-items: center;
        min-height: 76px;
    }
    .search-bar-modern .position-relative i { 
        color: #fba834; 
        font-size: 1.3rem; 
        left: 16px; 
        top: 50%; 
        transform: translateY(-50%);
    }
    .search-bar-modern .form-control,
    .search-bar-modern .form-select {
        height: 56px;
        background: transparent;
        border: none;
        padding-left: 52px;
        font-weight: 500;
        font-size: 1rem;
    }
    .search-bar-modern .form-control:focus,
    .search-bar-modern .form-select:focus {
        background: #fffbeb;
        box-shadow: none;
    }
    .search-bar-modern .btn-warning {
        height: 56px;
        min-width: 150px;
        background: #fba834;
        border: none;
        font-weight: 700;
        border-radius: 50px;
        box-shadow: 0 0 8px 25px #bc7e27;
    }
    .search-bar-modern .btn-warning:hover {
        background: #fba834;
        transform: translateY(-4px);
        box-shadow: 0 14px 35px #bc7e27;
    }

    /* ==================== CARD CHUNG ==================== */
    .destination-card, .offer-card { 
        transition: all .4s ease; 
        height: 100%;
    }
    .destination-card:hover, .offer-card:hover { 
        transform: translateY(-16px); 
        box-shadow: 0 30px 60px rgba(0,0,0,.22)!important; 
    }
    .destination-card img, .offer-card img { 
        transition: transform .5s ease; 
    }
    .destination-card:hover img, .offer-card:hover img { 
        transform: scale(1.08); 
    }

    /* RESPONSIVE */
    @@media (max-width: 1400px) {
        .hero-circles { width: 500px; height: 500px; }
        .circle-back { width: 380px; height: 380px; }
        .circle-front { width: 310px; height: 310px; right: -40px; }
    }

    @@media (max-width: 1200px) {
        .hero h1 { font-size: 3.8rem !important; }
        .hero-circles { width: 460px; height: 460px; }
        .circle-back { width: 340px; height: 340px; }
        .circle-front { width: 280px; height: 280px; }
        .search-bar-modern { max-width: 840px; }
    }

    @@media (max-width: 992px) {
        .hero h1 { font-size: 3.2rem !important; text-align: center; }
        .hero p { text-align: center; font-size: 1.1rem; }
        .hero .btn { margin: 20px auto 0; display: block; width: fit-content; }
        .hero-circles { width: 420px; height: 420px; margin: 40px auto 0; }
        .circle-back { width: 310px; height: 310px; top: 30px; right: 50%; transform: translateX(50%); }
        .circle-front { width: 260px; height: 260px; bottom: -40px; right: 15%; }
        .tour-search-section { margin-top: -70px; }
        .search-bar-modern { max-width: 680px; }
    }

    @@media (max-width: 768px) {
        .hero { text-align: center; padding: 120px 0 80px; }
        .hero h1 { font-size: 2.8rem !important; }
        .hero p br { display: none; }
        .hero-circles { width: 360px; height: 360px; margin: 30px auto 0; }
        .circle-back, .circle-front { position: static; margin: 15px auto; }
        .circle-front { margin-top: -90px; }

        .tour-search-section { margin-top: -50px; }
        }
        .search-bar-modern {
            max-width: 96%;
            height: auto;
            flex-direction: column;
            padding: 20px 16px;
            border-radius: 32px;
            gap: 14px;
        }
        .search-bar-modern .row { width: 100%; margin: 0; }
        .search-bar-modern .col-12 { margin-bottom: 0; }
        .search-bar-modern .form-control,
        .search-bar-modern .form-select { height: 52px; font-size: 0.95rem; }
        .search-bar-modern .btn-warning { width: 100%; height: 54px; font-size: 1.05rem; }

        #portfolio .destination-card { height: 440px; }
        #best-offers .offer-card img { height: 220px; }
    }

    @@media (max-width: 576px) {
        .hero h1 { font-size: 2.4rem !important; }
        .hero p { font-size: 1rem; }
        .hero-circles { width: 320px; height: 320px; }
        .circle-back, .circle-front { width: 240px; height: 240px; }
        .circle-front { margin-top: -80px; }

        #portfolio h1, #best-offers h2 { font-size: 2rem !important; }
        #portfolio .destination-card { height: 400px; }
        #promotion h1 { font-size: 2.4rem !important; text-align: center; }
        #promotion .display-1 { font-size: 7rem !important; }
    }

    @@media (max-width: 400px) {
        .hero h1 { font-size: 2.1rem !important; }
        .hero-circles { width: 280px; height: 280px; }
        .circle-back, .circle-front { width: 200px; height: 200px; }
        .search-bar-modern { padding: 16px; border-radius: 28px; }
        .search-bar-modern .form-control,
        .search-bar-modern .form-select { height: 48px; font-size: 0.9rem; }
        .search-bar-modern .btn-warning { height: 50px; font-size: 1rem; }
    }
</style>